{"ast":null,"code":"import React from 'react';\nimport { ImageViewer, MultiImageViewer } from './image-viewer';\nimport { renderImperatively } from '../../utils/render-imperatively';\nconst handlerSet = new Set();\nexport function showImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(ImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function showMultiImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(MultiImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function clearImageViewer() {\n  handlerSet.forEach(handler => {\n    handler.close();\n  });\n  handlerSet.clear();\n}","map":{"version":3,"sources":["E:/wcy/Github/fun-rec/codes/news_recsys/news_rec_web/my-app-ts/node_modules/antd-mobile/es/components/image-viewer/methods.js"],"names":["React","ImageViewer","MultiImageViewer","renderImperatively","handlerSet","Set","showImageViewer","props","clearImageViewer","handler","createElement","Object","assign","afterClose","_a","delete","call","add","showMultiImageViewer","forEach","close","clear"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,gBAA9C;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AACA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AACA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AACrCC,EAAAA,gBAAgB;AAChB,QAAMC,OAAO,GAAGN,kBAAkB,CAACH,KAAK,CAACU,aAAN,CAAoBT,WAApB,EAAiCU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC3FM,IAAAA,UAAU,EAAE,MAAM;AAChB,UAAIC,EAAJ;;AAEAV,MAAAA,UAAU,CAACW,MAAX,CAAkBN,OAAlB;AACA,OAACK,EAAE,GAAGP,KAAK,CAACM,UAAZ,MAA4B,IAA5B,IAAoCC,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACE,IAAH,CAAQT,KAAR,CAA7D;AACD;AAN0F,GAAzB,CAAjC,CAAD,CAAlC;AAQAH,EAAAA,UAAU,CAACa,GAAX,CAAeR,OAAf;AACA,SAAOA,OAAP;AACD;AACD,OAAO,SAASS,oBAAT,CAA8BX,KAA9B,EAAqC;AAC1CC,EAAAA,gBAAgB;AAChB,QAAMC,OAAO,GAAGN,kBAAkB,CAACH,KAAK,CAACU,aAAN,CAAoBR,gBAApB,EAAsCS,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAChGM,IAAAA,UAAU,EAAE,MAAM;AAChB,UAAIC,EAAJ;;AAEAV,MAAAA,UAAU,CAACW,MAAX,CAAkBN,OAAlB;AACA,OAACK,EAAE,GAAGP,KAAK,CAACM,UAAZ,MAA4B,IAA5B,IAAoCC,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACE,IAAH,CAAQT,KAAR,CAA7D;AACD;AAN+F,GAAzB,CAAtC,CAAD,CAAlC;AAQAH,EAAAA,UAAU,CAACa,GAAX,CAAeR,OAAf;AACA,SAAOA,OAAP;AACD;AACD,OAAO,SAASD,gBAAT,GAA4B;AACjCJ,EAAAA,UAAU,CAACe,OAAX,CAAmBV,OAAO,IAAI;AAC5BA,IAAAA,OAAO,CAACW,KAAR;AACD,GAFD;AAGAhB,EAAAA,UAAU,CAACiB,KAAX;AACD","sourcesContent":["import React from 'react';\nimport { ImageViewer, MultiImageViewer } from './image-viewer';\nimport { renderImperatively } from '../../utils/render-imperatively';\nconst handlerSet = new Set();\nexport function showImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(ImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function showMultiImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(MultiImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function clearImageViewer() {\n  handlerSet.forEach(handler => {\n    handler.close();\n  });\n  handlerSet.clear();\n}"]},"metadata":{},"sourceType":"module"}