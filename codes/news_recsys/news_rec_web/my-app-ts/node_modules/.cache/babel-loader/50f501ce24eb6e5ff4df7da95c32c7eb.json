{"ast":null,"code":"import { useRef } from 'react';\nexport var createUpdateEffect = function createUpdateEffect(hook) {\n  return function (effect, deps) {\n    var isMounted = useRef(false); // for react-refresh\n\n    hook(function () {\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    hook(function () {\n      if (!isMounted.current) {\n        isMounted.current = true;\n      } else {\n        return effect();\n      }\n    }, deps);\n  };\n};","map":{"version":3,"sources":["E:/wcy/Github/fun-rec/codes/news_recsys/news_rec_web/my-app-ts/node_modules/ahooks/es/createUpdateEffect/index.js"],"names":["useRef","createUpdateEffect","hook","effect","deps","isMounted","current"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAO,IAAIC,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,IAA5B,EAAkC;AAChE,SAAO,UAAUC,MAAV,EAAkBC,IAAlB,EAAwB;AAC7B,QAAIC,SAAS,GAAGL,MAAM,CAAC,KAAD,CAAtB,CAD6B,CACE;;AAE/BE,IAAAA,IAAI,CAAC,YAAY;AACf,aAAO,YAAY;AACjBG,QAAAA,SAAS,CAACC,OAAV,GAAoB,KAApB;AACD,OAFD;AAGD,KAJG,EAID,EAJC,CAAJ;AAKAJ,IAAAA,IAAI,CAAC,YAAY;AACf,UAAI,CAACG,SAAS,CAACC,OAAf,EAAwB;AACtBD,QAAAA,SAAS,CAACC,OAAV,GAAoB,IAApB;AACD,OAFD,MAEO;AACL,eAAOH,MAAM,EAAb;AACD;AACF,KANG,EAMDC,IANC,CAAJ;AAOD,GAfD;AAgBD,CAjBM","sourcesContent":["import { useRef } from 'react';\nexport var createUpdateEffect = function createUpdateEffect(hook) {\n  return function (effect, deps) {\n    var isMounted = useRef(false); // for react-refresh\n\n    hook(function () {\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    hook(function () {\n      if (!isMounted.current) {\n        isMounted.current = true;\n      } else {\n        return effect();\n      }\n    }, deps);\n  };\n};"]},"metadata":{},"sourceType":"module"}